<div class="min-h-screen flex flex-col items-center bg-gradient-to-br from-[#0f172a] to-[#1e293b] pt-28 pb-10">
  <h1 class="text-3xl md:text-4xl font-bold text-white mb-10 tracking-wide drop-shadow" data-aos="fade-down" data-aos-delay="700">Contact Us</h1>
  <form (ngSubmit)="submit()" autocomplete="off" class="w-full max-w-lg glassy-box p-8 rounded-3xl shadow-2xl border border-white/10 mb-12" data-aos="zoom-in-up" data-aos-delay="1000">
    <div class="mb-4">
      <label class="block text-slate-300 text-sm font-semibold mb-1" for="name">Name</label>
      <input id="name" disabled type="text" class="w-full px-4 py-2 rounded-lg bg-slate-800/60 text-white border border-sky-400/30 focus:outline-none focus:ring-2 focus:ring-sky-400/60" [ngModel]="name()" (ngModelChange)="name.set($event)" name="name" required placeholder="Your name">
    </div>
    <div class="mb-4">
      <label class="block text-slate-300 text-sm font-semibold mb-1" for="email">Email</label>
      <input id="email" disabled type="email" class="w-full px-4 py-2 rounded-lg bg-slate-800/60 text-white border border-sky-400/30 focus:outline-none focus:ring-2 focus:ring-sky-400/60" [ngModel]="email()" (ngModelChange)="email.set($event)" name="email" required placeholder="Your email">
    </div>
    <div class="mb-4">
      <label class="block text-slate-300 text-sm font-semibold mb-1" for="subject">Subject</label>
      <input id="subject" type="text" class="w-full px-4 py-2 rounded-lg bg-slate-800/60 text-white border border-violet-400/30 focus:outline-none focus:ring-2 focus:ring-violet-400/60" [ngModel]="subject()" (ngModelChange)="subject.set($event)" name="subject" placeholder="Subject (optional)">
    </div>
    <div class="mb-6">
      <label class="block text-slate-300 text-sm font-semibold mb-1" for="message">Message</label>
      <textarea id="message" class="w-full px-4 py-2 rounded-lg bg-slate-800/60 text-white border border-violet-400/30 focus:outline-none focus:ring-2 focus:ring-violet-400/60" [ngModel]="message()" (ngModelChange)="message.set($event)" name="message" rows="4" required placeholder="Type your message..."></textarea>
    </div>
    <button type="submit" [disabled]="loading()" class="w-full px-6 py-3 rounded-2xl font-bold text-white bg-gradient-to-r from-green-400/60 to-lime-400/60 shadow-lg hover:from-green-400/80 hover:to-lime-400/80 transition border border-yellow-200/30 backdrop-blur cursor-pointer text-lg">
      <span *ngIf="!loading()">Send Message</span>
      <span *ngIf="loading()" class="animate-pulse">Sending...</span>
    </button>
    <div class="absolute inset-0 pointer-events-none z-0">
        <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-800/30 to-purple-800/20 rounded-2xl blur-2xl"></div>
        <div class="absolute -top-10 -right-10 w-40 h-40 bg-blue-500/20 rounded-full blur-2xl"></div>
        <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-purple-500/20 rounded-full blur-2xl"></div>
    </div>
  </form>

  <div class="w-full max-w-2xl flex flex-col gap-8">
    <h2 class="text-2xl font-bold text-white mb-4" data-aos="fade-up" data-aos-delay="900">Your Queries &amp; Responses</h2>
    <div *ngIf="loading()" class="text-sky-300 text-lg font-semibold animate-pulse">Loading queries...</div>
    <div *ngIf="!loading() && pagedQueries().length === 0" class="text-slate-400 text-lg">No queries found.</div>
    <div *ngIf="!loading() && pagedQueries().length > 0" class="flex flex-col gap-6">
      <div *ngFor="let q of pagedQueries(); let i = index" class="glassy-box p-6 rounded-2xl shadow border border-white/10 relative animate-fade-in" data-aos="fade-up" [attr.data-aos-delay]="500 + (i-1) * 500">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-2">
          <span class="text-lg font-bold text-white">{{q.subject || 'No Subject'}}</span>
          <span class="text-slate-400 text-xs">{{q.createdDate | date:'medium'}}</span>
        </div>
        <div class="text-slate-200 mb-2">{{q.message}}</div>
        <div class="flex flex-col gap-1 mt-2">
          <span class="text-xs text-slate-400">Status: <span [ngClass]="{'text-green-400': q.isRead, 'text-yellow-400': !q.isRead}">{{q.isRead ? 'Responded' : 'Pending'}}</span></span>
          <span *ngIf="q.response" class="text-sm text-green-300 mt-1">Response: {{q.response}}</span>
        </div>
        <div class="absolute inset-0 pointer-events-none z-0">
          <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-800/30 to-purple-800/20 rounded-2xl blur-2xl"></div>
          <div class="absolute -top-10 -right-10 w-32 h-32 bg-blue-500/20 rounded-full blur-2xl"></div>
          <div class="absolute -bottom-10 -left-10 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"></div>
        </div>
      </div>
    </div>
    <app-pagination
      *ngIf="!loading() && queries().length > 0"
      [page]="page()"
      [pageSize]="pageSize()"
      [total]="queries().length"
      (pageChange)="onPageChange($event)">
    </app-pagination>
  </div>
</div>
